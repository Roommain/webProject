<!DOCTYPE html><html><head><title>13-第十三章  日期对象Date</title><meta charset='utf-8'><link href='https://dn-maxiang.qbox.me/res-min/themes/marxico.css' rel='stylesheet'><style>
.note-content  {font-family: 'Helvetica Neue', Arial, 'Hiragino Sans GB', STHeiti, 'Microsoft YaHei', 'WenQuanYi Micro Hei', SimSun, Song, sans-serif;}

</style></head><body><div id='preview-contents' class='note-content'>
                        
                    



<h1 id="13-第十三章-日期对象date">13-第十三章  日期对象Date</h1>

<hr>



<h2 id="一-new-date-获取当前时间">一 new Date() 获取当前时间</h2>

<hr>

<p>1、 <code>new Date()</code> 本地时间</p>



<pre class="prettyprint with-line-number hljs-dark"><code class="hljs pony"><div class="hljs-line"><span class="hljs-comment line-number">1.</span><span class="hljs-keyword">var</span> d = <span class="hljs-function"><span class="hljs-keyword">new</span> <span class="hljs-title">Date</span>();
</span></div><div class="hljs-line"><span class="hljs-comment line-number">2.</span><span class="hljs-title">alert</span>(d);<span class="hljs-comment">//Wed Aug 23 2017 21:36:24 GMT+0800 (中国标准时间)</span>
</div></code></pre>

<hr>

<p>2、 <code>toUTCString()</code> 当前 世界时</p>

<blockquote>
  <p>toUTCString()      根据<code>世界时</code>，把 Date 对象转换为字符串。</p>
</blockquote>



<pre class="prettyprint with-line-number hljs-dark"><code class="hljs pony"><div class="hljs-line"><span class="hljs-comment line-number">1.</span><span class="hljs-keyword">var</span> d = <span class="hljs-function"><span class="hljs-keyword">new</span> <span class="hljs-title">Date</span>();
</span></div><div class="hljs-line"><span class="hljs-comment line-number">2.</span><span class="hljs-title">var</span> <span class="hljs-title">utc</span> =  <span class="hljs-title">d</span>.<span class="hljs-title">toUTCString</span>()
</div><div class="hljs-line"><span class="hljs-comment line-number">3.</span>  <span class="hljs-title">alert</span>( utc );<span class="hljs-comment">//Wed, 23 Aug 2017 13:40:29 GMT</span>
</div></code></pre>

<hr>

<p>3、获取具体时间</p>

<table>
<thead>
<tr>
  <th align="left">方法</th>
  <th align="right">描述</th>
</tr>
</thead>
<tbody><tr>
  <td align="left"><code>getFullYear()</code></td>
  <td align="right">年</td>
</tr>
<tr>
  <td align="left"><code>getMonth()</code></td>
  <td align="right">月(0 ~ 11)。</td>
</tr>
<tr>
  <td align="left"><code>getDate()</code></td>
  <td align="right">天 (1 ~ 31)。</td>
</tr>
<tr>
  <td align="left"><code>getDay()</code></td>
  <td align="right">周几 (0 ~ 6)，<code>星期天为0</code></td>
</tr>
<tr>
  <td align="left"><code>getHours()</code></td>
  <td align="right">时</td>
</tr>
<tr>
  <td align="left"><code>getMinutes()</code></td>
  <td align="right">分</td>
</tr>
<tr>
  <td align="left"><code>getSeconds()</code></td>
  <td align="right">秒</td>
</tr>
<tr>
  <td align="left"><code>getMilliseconds()</code></td>
  <td align="right">毫秒</td>
</tr>
<tr>
  <td align="left"><code>getTime()</code></td>
  <td align="right">返回 1970 年 1 月 1 日至今的毫秒数</td>
</tr>
</tbody></table>




<pre class="prettyprint with-line-number hljs-dark"><code class="hljs pony"><div class="hljs-line"><span class="hljs-comment line-number">1.</span><span class="hljs-keyword">var</span> d = <span class="hljs-function"><span class="hljs-keyword">new</span> <span class="hljs-title">Date</span>(),
</span></div><div class="hljs-line"><span class="hljs-comment line-number">2.</span><span class="hljs-title">YY</span> = <span class="hljs-title">d</span>.<span class="hljs-title">getFullYear</span>(),
</div><div class="hljs-line"><span class="hljs-comment line-number">3.</span><span class="hljs-title">MM</span> = <span class="hljs-title">d</span>.<span class="hljs-title">getMonth</span>(),
</div><div class="hljs-line"><span class="hljs-comment line-number">4.</span><span class="hljs-title">TT</span> = <span class="hljs-title">d</span>.<span class="hljs-title">getDate</span>(),
</div><div class="hljs-line"><span class="hljs-comment line-number">5.</span><span class="hljs-title">DD</span> = <span class="hljs-title">d</span>.<span class="hljs-title">getDay</span>(),
</div><div class="hljs-line"><span class="hljs-comment line-number">6.</span><span class="hljs-title">HH</span> = <span class="hljs-title">d</span>.<span class="hljs-title">getHours</span>(),
</div><div class="hljs-line"><span class="hljs-comment line-number">7.</span><span class="hljs-title">Min</span> = <span class="hljs-title">d</span>.<span class="hljs-title">getMinutes</span>(),
</div><div class="hljs-line"><span class="hljs-comment line-number">8.</span><span class="hljs-title">Sec</span> = <span class="hljs-title">d</span>.<span class="hljs-title">getSeconds</span>(),
</div><div class="hljs-line"><span class="hljs-comment line-number">9.</span><span class="hljs-title">Mil</span> = <span class="hljs-title">d</span>.<span class="hljs-title">getMilliseconds</span>()
</div><div class="hljs-line"><span class="hljs-comment line-number">10.</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">11.</span><span class="hljs-title">alert</span>(<span class="hljs-type">YY</span>);<span class="hljs-comment">//2017</span>
</div></code></pre>

<hr>



<h2 id="二-日期格式化方法">二 日期格式化方法</h2>

<blockquote>
  <p>1.date. <code>toLocaleString()</code> ——————–按照本地时间输出 <br>
  2.date.<code>toLocaleDateString()</code> —————本地时间 年 月 日 <br>
  3.date.<code>toLocaleTimeString()</code> ————–本地时间 时 分 秒 <br>
  4.date.<code>toTimeString()</code>————————本地 时 分 秒 时区 <br>
  5.Date.<code>UTC()</code>  ————————————世界时返回 1970 年 1 月 1 日 到指定日期的毫秒数</p>
</blockquote>



<pre class="prettyprint with-line-number hljs-dark"><code class="hljs excel"><div class="hljs-line"><span class="hljs-comment line-number">1.</span><span class="hljs-built_in">var</span> d = Date.UTC(<span class="hljs-built_in">year</span>,<span class="hljs-built_in">month</span>,<span class="hljs-built_in">day</span>,hours,minutes,seconds,ms);
</div><div class="hljs-line"><span class="hljs-comment line-number">2.</span>alert(d);
</div></code></pre>

<hr>



<h2 id="三-设置本地时间">三  设置本地时间</h2>

<p>1、<code>new Date(</code>yy,mon,dd,hh,mm,ss,ms<code>)</code>    数字形式</p>

<blockquote>
  <p><code>new Date(</code>yy,mon,dd,hh,mm,ss,ms<code>)</code> 可以缺省,<code>yy,mon为必须</code></p>
</blockquote>



<pre class="prettyprint with-line-number hljs-dark"><code class="hljs lsl"><div class="hljs-line"><span class="hljs-comment line-number">1.</span> new Date(<span class="hljs-number">2020</span>,<span class="hljs-number">10</span>,<span class="hljs-number">1</span>)
</div></code></pre>

<p>2、<code>new Date(</code>‘yy/mon/dd/hh/mm/ss/ms’<code>)</code>    字符串形式</p>



<pre class="prettyprint with-line-number hljs-dark"><code class="hljs haxe"><div class="hljs-line"><span class="hljs-comment line-number">1.</span> <span class="hljs-keyword">new</span> <span class="hljs-type">Date</span>(<span class="hljs-string">'2020/10/1'</span>)
</div></code></pre>

<p>3、<code>new Date(</code>num <code>)</code>    毫秒数 到1970年的毫秒数</p>



<pre class="prettyprint with-line-number hljs-dark"><code class="hljs haxe"><div class="hljs-line"><span class="hljs-comment line-number">1.</span> <span class="hljs-keyword">new</span> <span class="hljs-type">Date</span>(<span class="hljs-string">'2020/10/1'</span>)
</div></code></pre>

<table>
<thead>
<tr>
  <th align="left">参数&nbsp;&nbsp; &nbsp;  &nbsp;</th>
  <th align="right">&nbsp;&nbsp; 描述 &nbsp;&nbsp;&nbsp;</th>
  <th align="right">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
</tr>
</thead>
<tbody><tr>
  <td align="left">yy</td>
  <td align="right">年</td>
  <td align="right">(四位数)</td>
</tr>
<tr>
  <td align="left">mon</td>
  <td align="right">月份</td>
  <td align="right">(  0~１１))</td>
</tr>
<tr>
  <td align="left">dd:</td>
  <td align="right">天</td>
  <td align="right">(  1~31 )</td>
</tr>
<tr>
  <td align="left">hh</td>
  <td align="right">时</td>
  <td align="right">(  0~23)</td>
</tr>
<tr>
  <td align="left">mm</td>
  <td align="right">分</td>
  <td align="right">(  0~59)</td>
</tr>
<tr>
  <td align="left">ss</td>
  <td align="right">秒</td>
  <td align="right">(  0~59)</td>
</tr>
<tr>
  <td align="left">ms</td>
  <td align="right">毫秒</td>
  <td align="right">(0 ~ 999)</td>
</tr>
</tbody></table>




<pre class="prettyprint with-line-number hljs-dark"><code class="hljs lsl"><div class="hljs-line"><span class="hljs-comment line-number">1.</span>var t = new Date(<span class="hljs-number">2017</span>,<span class="hljs-number">10</span>,<span class="hljs-number">15</span>,<span class="hljs-number">2</span>,<span class="hljs-number">30</span>,<span class="hljs-number">05</span>);
</div><div class="hljs-line"><span class="hljs-comment line-number">2.</span>console.log(t);<span class="hljs-comment">//Wed Nov 15 2017 02:30:05 GMT+0800 (中国标准时间)</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">3.</span>
</div></code></pre>

<hr>

<p>案例1:<code>系统时间</code> <br>
案例2:<code>倒计时</code></p>



<h2 id="四-gettimezoneoffset">四  getTimezoneOffset</h2>

<blockquote>
  <p>返回本地时间与格林尼治标准时间 (GMT) 的<code>分钟差</code></p>
</blockquote>



<pre class="prettyprint with-line-number hljs-dark"><code class="hljs lasso"><div class="hljs-line"><span class="hljs-comment line-number">1.</span><span class="hljs-built_in">var</span> d = <span class="hljs-literal">new</span> <span class="hljs-built_in">Date</span>();
</div><div class="hljs-line"><span class="hljs-comment line-number">2.</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">3.</span><span class="hljs-comment">//拿到毫秒数</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">4.</span><span class="hljs-built_in">var</span> len = d.getTime();
</div><div class="hljs-line"><span class="hljs-comment line-number">5.</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">6.</span><span class="hljs-comment">//本地时间与GMT时间的时间差</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">7.</span><span class="hljs-built_in">var</span> offset = d.getTimezoneOffset()*<span class="hljs-number">60</span>*<span class="hljs-number">1000</span>;
</div><div class="hljs-line"><span class="hljs-comment line-number">8.</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">9.</span><span class="hljs-comment">//得到现在的格林尼治</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">10.</span><span class="hljs-built_in">var</span> utcTime = len + offset;
</div><div class="hljs-line"><span class="hljs-comment line-number">11.</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">12.</span><span class="hljs-comment">//num时区 得到不同时区的时间</span>
</div><div class="hljs-line"><span class="hljs-comment line-number">13.</span><span class="hljs-built_in">var</span> <span class="hljs-built_in">data</span> = <span class="hljs-literal">new</span> <span class="hljs-built_in">Date</span>(utcTime+<span class="hljs-number">60</span>*<span class="hljs-number">60</span>*<span class="hljs-number">1000</span>*num);
</div></code></pre>

<p>案例3:<code>世界时间</code></p></div></body></html>